<!-- Performance Tab Content with Desktop/Mobile Sub-tabs -->
<div class="space-y-6">
    <!-- Performance Sub-tabs -->
    <div class="tabs tabs-boxed bg-base-100 border border-base-300">
        <button class="tab tab-active" 
                id="mobile-tab-btn"
                onclick="showPerformanceTab('mobile', this)">
            <i class="fas fa-mobile-alt mr-2"></i>
            Mobile
        </button>
        <button class="tab" 
                id="desktop-tab-btn"
                onclick="showPerformanceTab('desktop', this)">
            <i class="fas fa-desktop mr-2"></i>
            Desktop
        </button>
    </div>

    <!-- Mobile Performance Content -->
    <div id="mobile-performance-content" class="performance-content">
        {% if mobile_pagespeed_data %}
            {% include "site_audit/partials/performance_detail.html" with pagespeed_data=mobile_pagespeed_data device_type="mobile" %}
        {% else %}
            <div class="card bg-base-100 shadow-sm border border-base-300">
                <div class="card-body text-center py-12">
                    <i class="fas fa-mobile-alt text-5xl text-base-content/20 mb-4"></i>
                    <h3 class="text-xl font-semibold text-base-content mb-2">Mobile Performance Data Not Available</h3>
                    <p class="text-base-content/60">PageSpeed Insights data for mobile is not available for this audit.</p>
                    <p class="text-sm text-base-content/50 mt-2">Run a new audit to collect performance metrics.</p>
                </div>
            </div>
        {% endif %}
    </div>

    <!-- Desktop Performance Content -->
    <div id="desktop-performance-content" class="performance-content hidden">
        {% if desktop_pagespeed_data %}
            {% include "site_audit/partials/performance_detail.html" with pagespeed_data=desktop_pagespeed_data device_type="desktop" %}
        {% else %}
            <div class="card bg-base-100 shadow-sm border border-base-300">
                <div class="card-body text-center py-12">
                    <i class="fas fa-desktop text-5xl text-base-content/20 mb-4"></i>
                    <h3 class="text-xl font-semibold text-base-content mb-2">Desktop Performance Data Not Available</h3>
                    <p class="text-base-content/60">PageSpeed Insights data for desktop is not available for this audit.</p>
                    <p class="text-sm text-base-content/50 mt-2">Run a new audit to collect performance metrics.</p>
                </div>
            </div>
        {% endif %}
    </div>
</div>

<script>
    function showPerformanceTab(tabName, element) {
        // Update active tab styling
        document.querySelectorAll('#mobile-tab-btn, #desktop-tab-btn').forEach(tab => {
            tab.classList.remove('tab-active');
        });
        element.classList.add('tab-active');
        
        // Hide all performance content
        document.querySelectorAll('.performance-content').forEach(content => {
            content.classList.add('hidden');
        });
        
        // Show selected content
        document.getElementById(`${tabName}-performance-content`).classList.remove('hidden');
    }
</script>