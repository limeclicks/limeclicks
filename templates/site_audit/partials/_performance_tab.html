<!-- Performance Tab - Clean Professional Design -->
<div class="p-6 space-y-6">
    {% if performance_data.mobile_audit or performance_data.desktop_audit %}
    
    <!-- Performance Header -->
    <div class="text-center mb-6">
        <h2 class="text-2xl font-bold mb-2">Performance Analysis</h2>
        <p class="text-base-content/60">Comprehensive performance metrics powered by Google Lighthouse</p>
    </div>
    
    <!-- Performance Scores Overview -->
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
        <!-- Mobile Performance -->
        <div class="card bg-white shadow-lg hover:shadow-xl transition-shadow">
            <div class="card-body">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-lg font-bold">Mobile Performance</h3>
                    <div class="badge badge-primary badge-outline">Mobile</div>
                </div>
                
                {% if performance_data.mobile_audit.performance_score %}
                <div class="mb-4">
                    <div class="flex items-center justify-between mb-2">
                        <span class="text-sm text-base-content/70">Overall Score</span>
                        <span class="text-2xl font-bold">{{ performance_data.mobile_audit.performance_score }}</span>
                    </div>
                    <progress class="progress progress-primary" value="{{ performance_data.mobile_audit.performance_score }}" max="100"></progress>
                </div>
                {% endif %}
                
                <!-- Core Web Vitals -->
                <div class="space-y-3">
                    <div class="p-4 bg-base-100 rounded-lg border border-base-200 hover:shadow-sm transition-all">
                        <div class="flex justify-between items-center">
                            <div>
                                <div class="text-sm font-medium flex items-center gap-1">
                                    <i class="fas fa-image text-xs text-base-content/50"></i>
                                    LCP
                                </div>
                                <div class="text-xs text-base-content/60">Largest Contentful Paint</div>
                            </div>
                            {% with lcp=performance_data.mobile_audit.largest_contentful_paint|default:0 %}
                            {% if lcp %}
                            <div class="text-lg font-bold {% if lcp <= 2.5 %}text-success{% elif lcp <= 4 %}text-warning{% else %}text-error{% endif %}">
                                {{ lcp|floatformat:1 }}s
                            </div>
                            {% else %}
                            <div class="text-lg font-bold text-base-content/30">--</div>
                            {% endif %}
                            {% endwith %}
                        </div>
                    </div>
                    
                    <div class="p-4 bg-base-100 rounded-lg border border-base-200 hover:shadow-sm transition-all">
                        <div class="flex justify-between items-center">
                            <div>
                                <div class="text-sm font-medium flex items-center gap-1">
                                    <i class="fas fa-hand-pointer text-xs text-base-content/50"></i>
                                    INP
                                </div>
                                <div class="text-xs text-base-content/60">Interaction to Next Paint</div>
                            </div>
                            {% with inp=performance_data.mobile_audit.interaction_to_next_paint|default:0 %}
                            {% if inp %}
                            <div class="text-lg font-bold {% if inp <= 200 %}text-success{% elif inp <= 500 %}text-warning{% else %}text-error{% endif %}">
                                {{ inp|floatformat:0 }}ms
                            </div>
                            {% else %}
                            <div class="text-lg font-bold text-base-content/30">--</div>
                            {% endif %}
                            {% endwith %}
                        </div>
                    </div>
                    
                    <div class="p-4 bg-base-100 rounded-lg border border-base-200 hover:shadow-sm transition-all">
                        <div class="flex justify-between items-center">
                            <div>
                                <div class="text-sm font-medium flex items-center gap-1">
                                    <i class="fas fa-arrows-alt text-xs text-base-content/50"></i>
                                    CLS
                                </div>
                                <div class="text-xs text-base-content/60">Cumulative Layout Shift</div>
                            </div>
                            {% with cls=performance_data.mobile_audit.cumulative_layout_shift|default:0 %}
                            {% if cls or cls == 0 %}
                            <div class="text-lg font-bold {% if cls <= 0.1 %}text-success{% elif cls <= 0.25 %}text-warning{% else %}text-error{% endif %}">
                                {{ cls|floatformat:2 }}
                            </div>
                            {% else %}
                            <div class="text-lg font-bold text-base-content/30">--</div>
                            {% endif %}
                            {% endwith %}
                        </div>
                    </div>
                </div>
                
                <!-- Other Metrics -->
                <div class="grid grid-cols-2 gap-3 mt-4">
                    <div class="text-center p-2 bg-base-100 rounded-lg">
                        <div class="text-lg font-bold">{{ performance_data.mobile_audit.first_contentful_paint|floatformat:1|default:"--" }}s</div>
                        <div class="text-xs text-base-content/60">FCP</div>
                    </div>
                    <div class="text-center p-2 bg-base-100 rounded-lg">
                        <div class="text-lg font-bold">{{ performance_data.mobile_audit.speed_index|floatformat:1|default:"--" }}s</div>
                        <div class="text-xs text-base-content/60">Speed Index</div>
                    </div>
                    <div class="text-center p-2 bg-base-100 rounded-lg">
                        <div class="text-lg font-bold">{{ performance_data.mobile_audit.time_to_interactive|floatformat:1|default:"--" }}s</div>
                        <div class="text-xs text-base-content/60">TTI</div>
                    </div>
                    <div class="text-center p-2 bg-base-100 rounded-lg">
                        <div class="text-lg font-bold">{{ performance_data.mobile_audit.total_blocking_time|floatformat:0|default:"--" }}ms</div>
                        <div class="text-xs text-base-content/60">TBT</div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Desktop Performance -->
        <div class="card bg-white shadow-lg hover:shadow-xl transition-shadow">
            <div class="card-body">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-lg font-bold">Desktop Performance</h3>
                    <div class="badge badge-info badge-outline">Desktop</div>
                </div>
                
                {% if performance_data.desktop_audit.performance_score %}
                <div class="mb-4">
                    <div class="flex items-center justify-between mb-2">
                        <span class="text-sm text-base-content/70">Overall Score</span>
                        <span class="text-2xl font-bold">{{ performance_data.desktop_audit.performance_score }}</span>
                    </div>
                    <progress class="progress progress-info" value="{{ performance_data.desktop_audit.performance_score }}" max="100"></progress>
                </div>
                {% endif %}
                
                <!-- Core Web Vitals -->
                <div class="space-y-3">
                    <div class="p-4 bg-base-100 rounded-lg border border-base-200 hover:shadow-sm transition-all">
                        <div class="flex justify-between items-center">
                            <div>
                                <div class="text-sm font-medium flex items-center gap-1">
                                    <i class="fas fa-image text-xs text-base-content/50"></i>
                                    LCP
                                </div>
                                <div class="text-xs text-base-content/60">Largest Contentful Paint</div>
                            </div>
                            {% with lcp=performance_data.desktop_audit.largest_contentful_paint|default:0 %}
                            {% if lcp %}
                            <div class="text-lg font-bold {% if lcp <= 2.5 %}text-success{% elif lcp <= 4 %}text-warning{% else %}text-error{% endif %}">
                                {{ lcp|floatformat:1 }}s
                            </div>
                            {% else %}
                            <div class="text-lg font-bold text-base-content/30">--</div>
                            {% endif %}
                            {% endwith %}
                        </div>
                    </div>
                    
                    <div class="p-4 bg-base-100 rounded-lg border border-base-200 hover:shadow-sm transition-all">
                        <div class="flex justify-between items-center">
                            <div>
                                <div class="text-sm font-medium flex items-center gap-1">
                                    <i class="fas fa-hand-pointer text-xs text-base-content/50"></i>
                                    INP
                                </div>
                                <div class="text-xs text-base-content/60">Interaction to Next Paint</div>
                            </div>
                            {% with inp=performance_data.desktop_audit.interaction_to_next_paint|default:0 %}
                            {% if inp %}
                            <div class="text-lg font-bold {% if inp <= 200 %}text-success{% elif inp <= 500 %}text-warning{% else %}text-error{% endif %}">
                                {{ inp|floatformat:0 }}ms
                            </div>
                            {% else %}
                            <div class="text-lg font-bold text-base-content/30">--</div>
                            {% endif %}
                            {% endwith %}
                        </div>
                    </div>
                    
                    <div class="p-4 bg-base-100 rounded-lg border border-base-200 hover:shadow-sm transition-all">
                        <div class="flex justify-between items-center">
                            <div>
                                <div class="text-sm font-medium flex items-center gap-1">
                                    <i class="fas fa-arrows-alt text-xs text-base-content/50"></i>
                                    CLS
                                </div>
                                <div class="text-xs text-base-content/60">Cumulative Layout Shift</div>
                            </div>
                            {% with cls=performance_data.desktop_audit.cumulative_layout_shift|default:0 %}
                            {% if cls or cls == 0 %}
                            <div class="text-lg font-bold {% if cls <= 0.1 %}text-success{% elif cls <= 0.25 %}text-warning{% else %}text-error{% endif %}">
                                {{ cls|floatformat:2 }}
                            </div>
                            {% else %}
                            <div class="text-lg font-bold text-base-content/30">--</div>
                            {% endif %}
                            {% endwith %}
                        </div>
                    </div>
                </div>
                
                <!-- Other Metrics -->
                <div class="grid grid-cols-2 gap-3 mt-4">
                    <div class="text-center p-2 bg-base-100 rounded-lg">
                        <div class="text-lg font-bold">{{ performance_data.desktop_audit.first_contentful_paint|floatformat:1|default:"--" }}s</div>
                        <div class="text-xs text-base-content/60">FCP</div>
                    </div>
                    <div class="text-center p-2 bg-base-100 rounded-lg">
                        <div class="text-lg font-bold">{{ performance_data.desktop_audit.speed_index|floatformat:1|default:"--" }}s</div>
                        <div class="text-xs text-base-content/60">Speed Index</div>
                    </div>
                    <div class="text-center p-2 bg-base-100 rounded-lg">
                        <div class="text-lg font-bold">{{ performance_data.desktop_audit.time_to_interactive|floatformat:1|default:"--" }}s</div>
                        <div class="text-xs text-base-content/60">TTI</div>
                    </div>
                    <div class="text-center p-2 bg-base-100 rounded-lg">
                        <div class="text-lg font-bold">{{ performance_data.desktop_audit.total_blocking_time|floatformat:0|default:"--" }}ms</div>
                        <div class="text-xs text-base-content/60">TBT</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Additional Scores -->
    <div class="grid grid-cols-2 lg:grid-cols-4 gap-4">
        <!-- SEO Score -->
        <div class="card bg-white shadow-md hover:shadow-lg transition-shadow">
            <div class="card-body p-5">
                <div class="flex flex-col items-center text-center">
                    <div class="w-14 h-14 rounded-full bg-success/20 flex items-center justify-center mb-3">
                        <i class="fas fa-search text-xl text-success"></i>
                    </div>
                    <h4 class="text-xs font-semibold text-base-content/60 mb-1">SEO Score</h4>
                    <div class="text-2xl font-bold text-success">{{ performance_data.desktop_audit.seo_score|default:"--" }}</div>
                    {% if performance_data.desktop_audit.seo_score %}
                    <progress class="progress progress-success h-1 mt-2 w-full" value="{{ performance_data.desktop_audit.seo_score }}" max="100"></progress>
                    {% endif %}
                </div>
            </div>
        </div>
        
        <!-- Accessibility Score -->
        <div class="card bg-white shadow-md hover:shadow-lg transition-shadow">
            <div class="card-body p-4">
                <div class="flex flex-col items-center text-center">
                    <div class="w-10 h-10 rounded-full bg-info/10 flex items-center justify-center mb-2">
                        <i class="fas fa-universal-access text-lg text-info"></i>
                    </div>
                    <h4 class="text-xs font-semibold text-base-content/60 mb-1">Accessibility</h4>
                    <div class="text-2xl font-bold text-info">{{ performance_data.desktop_audit.accessibility_score|default:"--" }}</div>
                    {% if performance_data.desktop_audit.accessibility_score %}
                    <progress class="progress progress-info h-1 mt-2 w-full" value="{{ performance_data.desktop_audit.accessibility_score }}" max="100"></progress>
                    {% endif %}
                </div>
            </div>
        </div>
        
        <!-- Best Practices -->
        <div class="card bg-white shadow-md hover:shadow-lg transition-shadow">
            <div class="card-body p-4">
                <div class="flex flex-col items-center text-center">
                    <div class="w-10 h-10 rounded-full bg-warning/10 flex items-center justify-center mb-2">
                        <i class="fas fa-shield-alt text-lg text-warning"></i>
                    </div>
                    <h4 class="text-xs font-semibold text-base-content/60 mb-1">Best Practices</h4>
                    <div class="text-2xl font-bold text-warning">{{ performance_data.desktop_audit.best_practices_score|default:"--" }}</div>
                    {% if performance_data.desktop_audit.best_practices_score %}
                    <progress class="progress progress-warning h-1 mt-2 w-full" value="{{ performance_data.desktop_audit.best_practices_score }}" max="100"></progress>
                    {% endif %}
                </div>
            </div>
        </div>
        
        <!-- PWA Score -->
        <div class="card bg-white shadow-md hover:shadow-lg transition-shadow">
            <div class="card-body p-4">
                <div class="flex flex-col items-center text-center">
                    <div class="w-10 h-10 rounded-full bg-secondary/10 flex items-center justify-center mb-2">
                        <i class="fas fa-rocket text-lg text-secondary"></i>
                    </div>
                    <h4 class="text-xs font-semibold text-base-content/60 mb-1">PWA</h4>
                    <div class="text-2xl font-bold text-secondary">{{ performance_data.desktop_audit.pwa_score|default:"--" }}</div>
                    {% if performance_data.desktop_audit.pwa_score %}
                    <progress class="progress progress-secondary h-1 mt-2 w-full" value="{{ performance_data.desktop_audit.pwa_score }}" max="100"></progress>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
    
    {% else %}
    <!-- No Performance Data - Beautiful Design -->
    <div class="card bg-white shadow-lg border-2 border-warning/20">
        <div class="card-body text-center py-16">
            <div class="w-24 h-24 mx-auto mb-6 rounded-full bg-gradient-to-br from-warning/20 to-warning/10 flex items-center justify-center shadow-lg animate-pulse">
                <i class="fas fa-tachometer-alt text-4xl text-warning"></i>
            </div>
            <h3 class="text-2xl font-bold mb-3 text-warning">Performance Audit Needed</h3>
            <p class="text-base-content/70 text-lg mb-6">Run a performance audit to see Core Web Vitals, Lighthouse scores, and optimization opportunities.</p>
            <button class="btn btn-warning shadow-lg hover:shadow-xl"
                    hx-post="{% url 'site_audit:run_manual' audit.id %}"
                    hx-headers='{"X-CSRFToken": "{{ csrf_token }}"}'
                    hx-confirm="Start a performance audit for {{ audit.project.domain }}?">
                <i class="fas fa-play mr-2"></i>
                Start Performance Audit
            </button>
        </div>
    </div>
    {% endif %}
</div>