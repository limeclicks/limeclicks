<!-- Performance Tab - Clean Professional Design -->
<div class="p-6 space-y-6">
    {% if performance_data.mobile_audit or performance_data.desktop_audit %}
    
    <!-- Performance Header -->
    <div class="text-center mb-6">
        <h2 class="text-2xl font-bold mb-2">Performance Analysis</h2>
        <p class="text-base-content/60">Comprehensive performance metrics powered by Google Lighthouse</p>
    </div>
    
    <!-- Performance Scores Overview -->
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
        <!-- Mobile Performance -->
        <div class="card bg-white shadow-lg hover:shadow-xl transition-shadow">
            <div class="card-body">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-lg font-bold">Mobile Performance</h3>
                    <div class="badge badge-primary badge-outline">Mobile</div>
                </div>
                
                {% if performance_data.mobile_audit.performance_score %}
                <div class="mb-4">
                    <div class="flex items-center justify-between mb-2">
                        <span class="text-sm text-base-content/70">Overall Score</span>
                        <span class="text-2xl font-bold">{{ performance_data.mobile_audit.performance_score }}</span>
                    </div>
                    <progress class="progress progress-primary" value="{{ performance_data.mobile_audit.performance_score }}" max="100"></progress>
                </div>
                {% endif %}
                
                <!-- Core Web Vitals -->
                <div class="mb-4">
                    <h4 class="text-sm font-semibold mb-3 text-base-content/80 uppercase tracking-wide">Core Web Vitals</h4>
                    <div class="grid grid-cols-3 gap-3">
                        <!-- LCP -->
                        <div class="tooltip tooltip-top" data-tip="Largest Contentful Paint - Measures loading performance. Good: ≤2.5s, Needs Improvement: ≤4s, Poor: >4s">
                            <div class="p-3 bg-base-100 rounded-lg border border-base-200 hover:shadow-sm transition-all cursor-help">
                                <div class="text-center">
                                    <i class="fas fa-image text-xs text-base-content/50 mb-1"></i>
                                    {% with lcp=performance_data.mobile_audit.largest_contentful_paint %}
                                    <div class="text-xl font-bold {% if lcp %}{% if lcp <= 2.5 %}text-success{% elif lcp <= 4 %}text-warning{% else %}text-error{% endif %}{% else %}text-base-content/30{% endif %}">
                                        {% if lcp %}{{ lcp|floatformat:1 }}s{% else %}--{% endif %}
                                    </div>
                                    {% endwith %}
                                    <div class="text-xs text-base-content/60">LCP</div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- INP -->
                        <div class="tooltip tooltip-top" data-tip="Interaction to Next Paint - Measures responsiveness. Good: ≤200ms, Needs Improvement: ≤500ms, Poor: >500ms">
                            <div class="p-3 bg-base-100 rounded-lg border border-base-200 hover:shadow-sm transition-all cursor-help">
                                <div class="text-center">
                                    <i class="fas fa-hand-pointer text-xs text-base-content/50 mb-1"></i>
                                    {% with inp=performance_data.mobile_audit.interaction_to_next_paint %}
                                    <div class="text-xl font-bold {% if inp %}{% if inp <= 200 %}text-success{% elif inp <= 500 %}text-warning{% else %}text-error{% endif %}{% else %}text-base-content/30{% endif %}">
                                        {% if inp %}{{ inp|floatformat:0 }}ms{% else %}--{% endif %}
                                    </div>
                                    {% endwith %}
                                    <div class="text-xs text-base-content/60">INP</div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- CLS -->
                        <div class="tooltip tooltip-top" data-tip="Cumulative Layout Shift - Measures visual stability. Good: ≤0.1, Needs Improvement: ≤0.25, Poor: >0.25">
                            <div class="p-3 bg-base-100 rounded-lg border border-base-200 hover:shadow-sm transition-all cursor-help">
                                <div class="text-center">
                                    <i class="fas fa-arrows-alt text-xs text-base-content/50 mb-1"></i>
                                    {% with cls=performance_data.mobile_audit.cumulative_layout_shift %}
                                    <div class="text-xl font-bold {% if cls is not None %}{% if cls == 0 or cls %}{% if cls <= 0.1 %}text-success{% elif cls <= 0.25 %}text-warning{% else %}text-error{% endif %}{% else %}text-base-content/30{% endif %}{% else %}text-base-content/30{% endif %}">
                                        {% if cls is not None %}{% if cls == 0 or cls %}{{ cls|floatformat:2 }}{% else %}--{% endif %}{% else %}--{% endif %}
                                    </div>
                                    {% endwith %}
                                    <div class="text-xs text-base-content/60">CLS</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Other Metrics -->
                <div class="mb-4">
                    <h4 class="text-sm font-semibold mb-3 text-base-content/80 uppercase tracking-wide">Other Metrics</h4>
                    <div class="grid grid-cols-4 gap-3">
                        <div class="tooltip tooltip-top" data-tip="First Contentful Paint - When the first text or image is painted">
                            <div class="p-3 bg-base-100 rounded-lg border border-base-200 hover:shadow-sm transition-all cursor-help">
                                <div class="text-center">
                                    {% with fcp=performance_data.mobile_audit.first_contentful_paint %}
                                    <div class="text-lg font-bold {% if fcp %}{% if fcp <= 1.8 %}text-success{% elif fcp <= 3 %}text-warning{% else %}text-error{% endif %}{% else %}text-base-content/30{% endif %}">
                                        {% if fcp %}{{ fcp|floatformat:1 }}s{% else %}--{% endif %}
                                    </div>
                                    {% endwith %}
                                    <div class="text-xs text-base-content/60">FCP</div>
                                </div>
                            </div>
                        </div>
                        <div class="tooltip tooltip-top" data-tip="Speed Index - How quickly content is visually displayed">
                            <div class="p-3 bg-base-100 rounded-lg border border-base-200 hover:shadow-sm transition-all cursor-help">
                                <div class="text-center">
                                    {% with si=performance_data.mobile_audit.speed_index %}
                                    <div class="text-lg font-bold {% if si %}{% if si <= 3.4 %}text-success{% elif si <= 5.8 %}text-warning{% else %}text-error{% endif %}{% else %}text-base-content/30{% endif %}">
                                        {% if si %}{{ si|floatformat:1 }}s{% else %}--{% endif %}
                                    </div>
                                    {% endwith %}
                                    <div class="text-xs text-base-content/60">SI</div>
                                </div>
                            </div>
                        </div>
                        <div class="tooltip tooltip-top" data-tip="Time to Interactive - When the page becomes fully interactive">
                            <div class="p-3 bg-base-100 rounded-lg border border-base-200 hover:shadow-sm transition-all cursor-help">
                                <div class="text-center">
                                    {% with tti=performance_data.mobile_audit.time_to_interactive %}
                                    <div class="text-lg font-bold {% if tti %}{% if tti <= 3.8 %}text-success{% elif tti <= 7.3 %}text-warning{% else %}text-error{% endif %}{% else %}text-base-content/30{% endif %}">
                                        {% if tti %}{{ tti|floatformat:1 }}s{% else %}--{% endif %}
                                    </div>
                                    {% endwith %}
                                    <div class="text-xs text-base-content/60">TTI</div>
                                </div>
                            </div>
                        </div>
                        <div class="tooltip tooltip-top" data-tip="Total Blocking Time - Time blocked by long tasks">
                            <div class="p-3 bg-base-100 rounded-lg border border-base-200 hover:shadow-sm transition-all cursor-help">
                                <div class="text-center">
                                    {% with tbt=performance_data.mobile_audit.total_blocking_time %}
                                    <div class="text-lg font-bold {% if tbt is not None and tbt != "" %}{% if tbt <= 200 %}text-success{% elif tbt <= 600 %}text-warning{% else %}text-error{% endif %}{% else %}text-base-content/30{% endif %}">
                                        {% if tbt is not None and tbt != "" %}{{ tbt|floatformat:0 }}ms{% else %}--{% endif %}
                                    </div>
                                    {% endwith %}
                                    <div class="text-xs text-base-content/60">TBT</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Desktop Performance -->
        <div class="card bg-white shadow-lg hover:shadow-xl transition-shadow">
            <div class="card-body">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-lg font-bold">Desktop Performance</h3>
                    <div class="badge badge-info badge-outline">Desktop</div>
                </div>
                
                {% if performance_data.desktop_audit.performance_score %}
                <div class="mb-4">
                    <div class="flex items-center justify-between mb-2">
                        <span class="text-sm text-base-content/70">Overall Score</span>
                        <span class="text-2xl font-bold">{{ performance_data.desktop_audit.performance_score }}</span>
                    </div>
                    <progress class="progress progress-info" value="{{ performance_data.desktop_audit.performance_score }}" max="100"></progress>
                </div>
                {% endif %}
                
                <!-- Core Web Vitals -->
                <div class="mb-4">
                    <h4 class="text-sm font-semibold mb-3 text-base-content/80 uppercase tracking-wide">Core Web Vitals</h4>
                    <div class="grid grid-cols-3 gap-3">
                        <!-- LCP -->
                        <div class="tooltip tooltip-top" data-tip="Largest Contentful Paint - Measures loading performance. Good: ≤2.5s, Needs Improvement: ≤4s, Poor: >4s">
                            <div class="p-3 bg-base-100 rounded-lg border border-base-200 hover:shadow-sm transition-all cursor-help">
                                <div class="text-center">
                                    <i class="fas fa-image text-xs text-base-content/50 mb-1"></i>
                                    {% with lcp=performance_data.desktop_audit.largest_contentful_paint %}
                                    <div class="text-xl font-bold {% if lcp %}{% if lcp <= 2.5 %}text-success{% elif lcp <= 4 %}text-warning{% else %}text-error{% endif %}{% else %}text-base-content/30{% endif %}">
                                        {% if lcp %}{{ lcp|floatformat:1 }}s{% else %}--{% endif %}
                                    </div>
                                    {% endwith %}
                                    <div class="text-xs text-base-content/60">LCP</div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- INP -->
                        <div class="tooltip tooltip-top" data-tip="Interaction to Next Paint - Measures responsiveness. Good: ≤200ms, Needs Improvement: ≤500ms, Poor: >500ms">
                            <div class="p-3 bg-base-100 rounded-lg border border-base-200 hover:shadow-sm transition-all cursor-help">
                                <div class="text-center">
                                    <i class="fas fa-hand-pointer text-xs text-base-content/50 mb-1"></i>
                                    {% with inp=performance_data.desktop_audit.interaction_to_next_paint %}
                                    <div class="text-xl font-bold {% if inp %}{% if inp <= 200 %}text-success{% elif inp <= 500 %}text-warning{% else %}text-error{% endif %}{% else %}text-base-content/30{% endif %}">
                                        {% if inp %}{{ inp|floatformat:0 }}ms{% else %}--{% endif %}
                                    </div>
                                    {% endwith %}
                                    <div class="text-xs text-base-content/60">INP</div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- CLS -->
                        <div class="tooltip tooltip-top" data-tip="Cumulative Layout Shift - Measures visual stability. Good: ≤0.1, Needs Improvement: ≤0.25, Poor: >0.25">
                            <div class="p-3 bg-base-100 rounded-lg border border-base-200 hover:shadow-sm transition-all cursor-help">
                                <div class="text-center">
                                    <i class="fas fa-arrows-alt text-xs text-base-content/50 mb-1"></i>
                                    {% with cls=performance_data.desktop_audit.cumulative_layout_shift %}
                                    <div class="text-xl font-bold {% if cls is not None %}{% if cls == 0 or cls %}{% if cls <= 0.1 %}text-success{% elif cls <= 0.25 %}text-warning{% else %}text-error{% endif %}{% else %}text-base-content/30{% endif %}{% else %}text-base-content/30{% endif %}">
                                        {% if cls is not None %}{% if cls == 0 or cls %}{{ cls|floatformat:2 }}{% else %}--{% endif %}{% else %}--{% endif %}
                                    </div>
                                    {% endwith %}
                                    <div class="text-xs text-base-content/60">CLS</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Other Metrics -->
                <div class="mb-4">
                    <h4 class="text-sm font-semibold mb-3 text-base-content/80 uppercase tracking-wide">Other Metrics</h4>
                    <div class="grid grid-cols-4 gap-3">
                        <div class="tooltip tooltip-top" data-tip="First Contentful Paint - When the first text or image is painted">
                            <div class="p-3 bg-base-100 rounded-lg border border-base-200 hover:shadow-sm transition-all cursor-help">
                                <div class="text-center">
                                    {% with fcp=performance_data.desktop_audit.first_contentful_paint %}
                                    <div class="text-lg font-bold {% if fcp %}{% if fcp <= 1.8 %}text-success{% elif fcp <= 3 %}text-warning{% else %}text-error{% endif %}{% else %}text-base-content/30{% endif %}">
                                        {% if fcp %}{{ fcp|floatformat:1 }}s{% else %}--{% endif %}
                                    </div>
                                    {% endwith %}
                                    <div class="text-xs text-base-content/60">FCP</div>
                                </div>
                            </div>
                        </div>
                        <div class="tooltip tooltip-top" data-tip="Speed Index - How quickly content is visually displayed">
                            <div class="p-3 bg-base-100 rounded-lg border border-base-200 hover:shadow-sm transition-all cursor-help">
                                <div class="text-center">
                                    {% with si=performance_data.desktop_audit.speed_index %}
                                    <div class="text-lg font-bold {% if si %}{% if si <= 3.4 %}text-success{% elif si <= 5.8 %}text-warning{% else %}text-error{% endif %}{% else %}text-base-content/30{% endif %}">
                                        {% if si %}{{ si|floatformat:1 }}s{% else %}--{% endif %}
                                    </div>
                                    {% endwith %}
                                    <div class="text-xs text-base-content/60">SI</div>
                                </div>
                            </div>
                        </div>
                        <div class="tooltip tooltip-top" data-tip="Time to Interactive - When the page becomes fully interactive">
                            <div class="p-3 bg-base-100 rounded-lg border border-base-200 hover:shadow-sm transition-all cursor-help">
                                <div class="text-center">
                                    {% with tti=performance_data.desktop_audit.time_to_interactive %}
                                    <div class="text-lg font-bold {% if tti %}{% if tti <= 3.8 %}text-success{% elif tti <= 7.3 %}text-warning{% else %}text-error{% endif %}{% else %}text-base-content/30{% endif %}">
                                        {% if tti %}{{ tti|floatformat:1 }}s{% else %}--{% endif %}
                                    </div>
                                    {% endwith %}
                                    <div class="text-xs text-base-content/60">TTI</div>
                                </div>
                            </div>
                        </div>
                        <div class="tooltip tooltip-top" data-tip="Total Blocking Time - Time blocked by long tasks">
                            <div class="p-3 bg-base-100 rounded-lg border border-base-200 hover:shadow-sm transition-all cursor-help">
                                <div class="text-center">
                                    {% with tbt=performance_data.desktop_audit.total_blocking_time %}
                                    <div class="text-lg font-bold {% if tbt is not None and tbt != "" %}{% if tbt <= 200 %}text-success{% elif tbt <= 600 %}text-warning{% else %}text-error{% endif %}{% else %}text-base-content/30{% endif %}">
                                        {% if tbt is not None and tbt != "" %}{{ tbt|floatformat:0 }}ms{% else %}--{% endif %}
                                    </div>
                                    {% endwith %}
                                    <div class="text-xs text-base-content/60">TBT</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Additional Scores -->
    <div class="mb-6">
        <h3 class="text-lg font-bold mb-4">Additional Scores</h3>
        <div class="grid grid-cols-2 lg:grid-cols-4 gap-4">
            <!-- SEO Score -->
            <div class="tooltip tooltip-top" data-tip="Search Engine Optimization - Ensures your page is optimized for search engine results ranking">
                <div class="p-4 bg-white rounded-lg border border-base-200 shadow-md hover:shadow-lg transition-all cursor-help">
                    <div class="text-center">
                        <i class="fas fa-search text-2xl mb-2 {% if performance_data.desktop_audit.seo_score >= 90 %}text-success{% elif performance_data.desktop_audit.seo_score >= 50 %}text-warning{% else %}text-error{% endif %}"></i>
                        {% with seo=performance_data.desktop_audit.seo_score %}
                        <div class="text-3xl font-bold {% if seo %}{% if seo >= 90 %}text-success{% elif seo >= 50 %}text-warning{% else %}text-error{% endif %}{% else %}text-base-content/30{% endif %}">
                            {% if seo %}{{ seo }}{% else %}--{% endif %}
                        </div>
                        {% endwith %}
                        <div class="text-xs text-base-content/60 mt-1">SEO</div>
                    </div>
                </div>
            </div>
            
            <!-- Accessibility Score -->
            <div class="tooltip tooltip-top" data-tip="Accessibility - Checks if your page can be used by people with disabilities or impairments">
                <div class="p-4 bg-white rounded-lg border border-base-200 shadow-md hover:shadow-lg transition-all cursor-help">
                    <div class="text-center">
                        <i class="fas fa-universal-access text-2xl mb-2 {% if performance_data.desktop_audit.accessibility_score >= 90 %}text-success{% elif performance_data.desktop_audit.accessibility_score >= 50 %}text-warning{% else %}text-error{% endif %}"></i>
                        {% with acc=performance_data.desktop_audit.accessibility_score %}
                        <div class="text-3xl font-bold {% if acc %}{% if acc >= 90 %}text-success{% elif acc >= 50 %}text-warning{% else %}text-error{% endif %}{% else %}text-base-content/30{% endif %}">
                            {% if acc %}{{ acc }}{% else %}--{% endif %}
                        </div>
                        {% endwith %}
                        <div class="text-xs text-base-content/60 mt-1">Accessibility</div>
                    </div>
                </div>
            </div>
            
            <!-- Best Practices -->
            <div class="tooltip tooltip-top" data-tip="Best Practices - Checks for web development best practices like HTTPS, no console errors, etc.">
                <div class="p-4 bg-white rounded-lg border border-base-200 shadow-md hover:shadow-lg transition-all cursor-help">
                    <div class="text-center">
                        <i class="fas fa-shield-alt text-2xl mb-2 {% if performance_data.desktop_audit.best_practices_score >= 90 %}text-success{% elif performance_data.desktop_audit.best_practices_score >= 50 %}text-warning{% else %}text-error{% endif %}"></i>
                        {% with bp=performance_data.desktop_audit.best_practices_score %}
                        <div class="text-3xl font-bold {% if bp %}{% if bp >= 90 %}text-success{% elif bp >= 50 %}text-warning{% else %}text-error{% endif %}{% else %}text-base-content/30{% endif %}">
                            {% if bp %}{{ bp }}{% else %}--{% endif %}
                        </div>
                        {% endwith %}
                        <div class="text-xs text-base-content/60 mt-1">Best Practices</div>
                    </div>
                </div>
            </div>
            
            <!-- PWA Score -->
            <div class="tooltip tooltip-top" data-tip="Progressive Web App - Checks if your site meets the standards for a progressive web application">
                <div class="p-4 bg-white rounded-lg border border-base-200 shadow-md hover:shadow-lg transition-all cursor-help">
                    <div class="text-center">
                        <i class="fas fa-rocket text-2xl mb-2 {% if performance_data.desktop_audit.pwa_score >= 90 %}text-success{% elif performance_data.desktop_audit.pwa_score >= 50 %}text-warning{% else %}text-error{% endif %}"></i>
                        {% with pwa=performance_data.desktop_audit.pwa_score %}
                        <div class="text-3xl font-bold {% if pwa %}{% if pwa >= 90 %}text-success{% elif pwa >= 50 %}text-warning{% else %}text-error{% endif %}{% else %}text-base-content/30{% endif %}">
                            {% if pwa %}{{ pwa }}{% else %}--{% endif %}
                        </div>
                        {% endwith %}
                        <div class="text-xs text-base-content/60 mt-1">PWA</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    {% else %}
    <!-- No Performance Data - Beautiful Design -->
    <div class="card bg-white shadow-lg border-2 border-warning/20">
        <div class="card-body text-center py-16">
            <div class="w-24 h-24 mx-auto mb-6 rounded-full bg-gradient-to-br from-warning/20 to-warning/10 flex items-center justify-center shadow-lg animate-pulse">
                <i class="fas fa-tachometer-alt text-4xl text-warning"></i>
            </div>
            <h3 class="text-2xl font-bold mb-3 text-warning">Performance Audit Needed</h3>
            <p class="text-base-content/70 text-lg mb-6">Run a performance audit to see Core Web Vitals, Lighthouse scores, and optimization opportunities.</p>
            <button class="btn btn-warning shadow-lg hover:shadow-xl"
                    hx-post="{% url 'site_audit:run_manual' audit.id %}"
                    hx-headers='{"X-CSRFToken": "{{ csrf_token }}"}'
                    hx-confirm="Start a performance audit for {{ audit.project.domain }}?">
                <i class="fas fa-play mr-2"></i>
                Start Performance Audit
            </button>
        </div>
    </div>
    {% endif %}
</div>