<!-- Issues Tab Content -->
<div class="space-y-6">
    <!-- Filters and Search -->
    <div class="card bg-base-100 shadow-sm border border-base-300">
        <div class="card-body p-4">
            <div class="flex flex-col lg:flex-row gap-4">
                <!-- Search -->
                <div class="flex-1">
                    <div class="relative">
                        <input type="text" 
                               id="issue-search"
                               placeholder="Search issues by type or URL..." 
                               class="input input-bordered w-full pl-10 h-10"
                               hx-get="{% url 'site_audit:detail' audit.id %}?tab=issues"
                               hx-trigger="keyup changed delay:500ms"
                               hx-target="#issues-content-area"
                               hx-include="[name='severity'], [name='category']">
                        <i class="fas fa-search absolute left-3 top-1/2 -translate-y-1/2 text-base-content/40"></i>
                    </div>
                </div>
                
                <!-- Filters -->
                <div class="flex gap-2">
                    <!-- Severity Filter -->
                    <select name="severity" class="select select-bordered select-sm min-w-[150px]"
                            hx-get="{% url 'site_audit:detail' audit.id %}?tab=issues"
                            hx-trigger="change"
                            hx-target="#issues-content-area"
                            hx-include="#issue-search, [name='category']">
                        <option value="">All Severities</option>
                        <option value="critical">Critical</option>
                        <option value="high">High Priority</option>
                        <option value="medium">Medium Priority</option>
                        <option value="low">Low Priority</option>
                    </select>
                    
                    <!-- Category Filter -->
                    <select name="category" class="select select-bordered select-sm min-w-[150px]"
                            hx-get="{% url 'site_audit:detail' audit.id %}?tab=issues"
                            hx-trigger="change"
                            hx-target="#issues-content-area"
                            hx-include="#issue-search, [name='severity']">
                        <option value="">All Categories</option>
                        <option value="meta_content">Meta Content</option>
                        <option value="response_code">Response Code</option>
                        <option value="image">Images</option>
                        <option value="technical_seo">Technical SEO</option>
                        <option value="content_quality">Content Quality</option>
                        <option value="security">Security</option>
                    </select>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Issues Content Area (This gets replaced on pagination) -->
    <div id="issues-content-area">
        {% include 'site_audit/partials/issues_content.html' %}
    </div>
</div>

<style>
.htmx-indicator {
    display: none;
}
.htmx-request .htmx-indicator {
    display: block;
}
</style>

